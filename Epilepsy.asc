Version 4
SHEET 1 1120 680
WIRE 672 -288 -496 -288
WIRE 576 -256 256 -256
WIRE -256 -224 -448 -224
WIRE -144 -224 -256 -224
WIRE -16 -224 -144 -224
WIRE 128 -224 -16 -224
WIRE 320 -224 128 -224
WIRE 528 -224 320 -224
WIRE 672 -224 672 -288
WIRE 672 -224 608 -224
WIRE 320 -192 320 -224
WIRE 672 -192 672 -224
WIRE -320 -176 -512 -176
WIRE 128 -144 128 -224
WIRE 256 -144 256 -256
WIRE 576 -144 576 -256
WIRE 608 -144 608 -224
WIRE 608 -144 576 -144
WIRE -256 -128 -256 -224
WIRE -144 -128 -144 -224
WIRE -16 -128 -16 -224
WIRE 576 -96 320 -96
WIRE -496 -80 -496 -288
WIRE -320 -80 -496 -80
WIRE -144 -16 -144 -64
WIRE -144 -16 -624 -16
WIRE -16 -16 -16 -48
WIRE -16 -16 -144 -16
WIRE 128 -16 128 -64
WIRE 128 -16 -16 -16
WIRE -448 16 -448 -224
WIRE 144 16 -448 16
WIRE 400 16 272 16
WIRE 96 32 -176 32
WIRE 576 32 576 -96
WIRE 672 32 672 -96
WIRE 672 32 576 32
WIRE -448 48 -448 16
WIRE -320 48 -448 48
WIRE -272 48 -320 48
WIRE 320 64 208 64
WIRE -176 80 -176 32
WIRE 96 80 96 32
WIRE -320 96 -320 48
WIRE 144 96 144 16
WIRE 272 96 272 16
WIRE -272 112 -272 48
WIRE 320 112 320 64
WIRE -512 160 -512 -176
WIRE -320 240 -320 176
WIRE -272 240 -272 160
WIRE -272 240 -320 240
WIRE 272 272 272 176
WIRE 528 272 528 -224
WIRE 528 272 272 272
WIRE -624 336 -624 -16
WIRE -512 336 -512 240
WIRE -512 336 -624 336
WIRE -272 336 -272 240
WIRE -272 336 -512 336
WIRE -176 336 -176 160
WIRE -176 336 -272 336
WIRE 48 336 -176 336
WIRE 144 336 144 144
WIRE 144 336 48 336
WIRE 208 336 208 64
WIRE 208 336 144 336
WIRE 400 336 400 16
WIRE 400 336 208 336
WIRE 672 336 672 112
WIRE 672 336 400 336
WIRE 48 384 48 336
WIRE 96 400 96 160
WIRE 192 400 96 400
WIRE 176 464 16 464
WIRE 192 464 192 400
WIRE 192 464 176 464
WIRE -176 576 -176 336
WIRE 16 576 16 544
WIRE 16 576 -176 576
WIRE 176 576 176 528
WIRE 176 576 16 576
FLAG -16 -224 V_mem
FLAG 48 384 0
FLAG 192 400 v_adapt
SYMBOL cap -160 -128 R0
SYMATTR InstName C1
SYMATTR Value 10n
SYMBOL cap 160 464 R0
SYMATTR InstName C_adapt1
SYMATTR Value 1µ
SYMBOL res -32 -144 R0
SYMATTR InstName R1
SYMATTR Value 20k
SYMBOL res -528 144 R0
SYMATTR InstName R_deg1
SYMATTR Value 10k
SYMBOL res 0 448 R0
SYMATTR InstName R_decay1
SYMATTR Value 1
SYMBOL current 128 -64 R180
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value PULSE(0 200u 5m 1u 1u 500m)
SYMBOL voltage 672 16 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vcc1
SYMATTR Value 5
SYMBOL voltage -176 64 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V_source1
SYMATTR Value 0.5
SYMBOL npn -256 -80 R180
SYMATTR InstName Q1
SYMATTR Value My2N2222
SYMBOL pnp 256 -192 R0
SYMATTR InstName Q2
SYMATTR Value My2N3906
SYMBOL pnp 608 -192 R0
SYMATTR InstName Q3
SYMATTR Value My2N3906
SYMBOL sw -320 192 R180
SYMATTR InstName S1
SYMATTR Value ResetSW
SYMBOL sw 96 176 R180
SYMATTR InstName S2
SYMATTR Value AdaptSW
SYMBOL g 272 192 R180
SYMATTR InstName G1
SYMATTR Value 0
TEXT -624 592 Left 2 ;.tran 50
TEXT 392 400 Left 2 !.model ResetSW SW(Vt=0.7 Vh=0.5 Ron=1 Roff=100Meg)\n.model AdaptSW SW(Vt=1.2 Vh=0.05 Ron=10k Roff=100Meg)\n.model My2N2222 NPN(IS=1E-14 VAF=100 BF=200)\n.model My2N3906 PNP(IS=1E-14 VAF=100 BF=200)\n.ic V(V_mem)=0\n.tran 0 50m
